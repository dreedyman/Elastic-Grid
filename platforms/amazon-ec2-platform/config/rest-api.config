/*
 * Configuration for a Provision Monitor
 */
import java.util.logging.ConsoleHandler;
import java.util.logging.Level;
import org.rioproject.core.ClassBundle;
import org.rioproject.log.LoggerConfig;
import org.rioproject.log.LoggerConfig.LogHandlerConfig;
import org.rioproject.fdh.FaultDetectionHandlerFactory;

/* --------------------------------------------------------------------------
 * Declare REST API properties
 * --------------------------------------------------------------------------*/
com.elasticgrid.rest {
    initialLookupGroups = new String[] { "rio" };
    serviceName = "Elastic Grid REST API";
    serviceComment = "Elastic Grid REST API";
    jmxName = "com.elasticgrid.rest:type=API";

    loggerConfigs = new LoggerConfig[] {
        new LoggerConfig("com.elasticgrid",
                         Level.FINE,
                         false,
                         new LogHandlerConfig[] {
                             new LogHandlerConfig(new ConsoleHandler())}
                         ),
        new LoggerConfig("org.springframework",
                         Level.SEVERE,
                         false,
                         new LogHandlerConfig[] {
                             new LogHandlerConfig(new ConsoleHandler())}
                         ),
        new LoggerConfig("com.noelios.restlet",
                         Level.SEVERE,
                         false,
                         new LogHandlerConfig[] {
                             new LogHandlerConfig(new ConsoleHandler())}
                         ),
        };

    /* Configure a FaultDetectionHandler for the Cybernode */
    fdh = "org.rioproject.fdh.HeartbeatFaultDetectionHandler";
    /* Point to this configuration file */
    configFile = "${EG_HOME}/config/rest-api.config";
    faultDetectionHandler =
        FaultDetectionHandlerFactory.getClassBundle(fdh, configFile);
}

/* --------------------------------------------------------------------------
 * Declare HeartbeatFaultDetectionHandler properties
 * --------------------------------------------------------------------------*/
org.rioproject.fdh.HeartbeatFaultDetectionHandler {
    heartbeatPeriod=10000;
    heartbeatGracePeriod=10000;
}
